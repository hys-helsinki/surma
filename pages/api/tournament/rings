import prisma from "../../../lib/prisma";
import type { NextApiRequest, NextApiResponse } from "next";

export default async function rings(req: NextApiRequest, res: NextApiResponse) {
  if (req.method === "POST") {
    const ring = JSON.parse(req.body);
    const result = await prisma.assignmentRing.create({
      data: {
        name: ring.name,
        tournamentId: ring.tournament,
        assignments: {
          create: ring.assignments
        }
      }
    });
    res.status(201).end();
  }
}
